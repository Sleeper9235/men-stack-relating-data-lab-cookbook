<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= recipe.name %></title>
  </head>
  <body>
    <h1>Update <%= recipe.name %></h1>
    <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST" >
        <label for="name">Name</label>
        <input type="text" name="name" id="name" value="<%= recipe.name %>">
        <br />
        <label for="instructions">Instructions:</label>
        <br />
        <textarea name="instructions" id="instructions" ><%= recipe.instructions %></textarea>
        <br />
        <h3">Select Ingredients:</h3>
        <div id="ingredients">
          <select name="ingredients" multiple>
            <% ingredients.forEach((ingredient) => { %>
            <option name="ingredients" value="<%= ingredient.id %>" ><%= ingredient.name %></option>
            <% }) %>
          </select>
        </div>
        <button type="submit">Update Recipe</button>
        <br />
    </form>
        <form action="/ingredients/edit" method="POST">
          <label for="name">Name</label>
          <input type="text" name="name" id="name" /> 
          <br />
          <button type="submit">Add Ingredient to Recipe</button>
        </form>
        <form action="/ingredients/edit?_method=DELETE" method="POST">
          <div id="ingredients">
            <select name="ingredients">
              <% ingredients.forEach((ingredient) => { %>
              <option name="ingredients" value="<%= ingredient.id %>" ><%= ingredient.name %></option>
              <% }) %>
            </select>
          </div>
          <br />
          <button type="submit">Remove Ingredient from Recipe</button>
        </form>
  </body>
</html>